<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Set up your Docker environment | Docker &amp; AKS workshop</title>
    <meta name="description" content="Docker &amp; AKS workshop">
    <link rel="icon" href="/acw-containerization/favicon.png">
    
    <link rel="preload" href="/acw-containerization/assets/css/0.styles.ae323523.css" as="style"><link rel="preload" href="/acw-containerization/assets/js/app.9f94a02c.js" as="script"><link rel="preload" href="/acw-containerization/assets/js/2.dec8aa0e.js" as="script"><link rel="preload" href="/acw-containerization/assets/js/6.6d72fd7c.js" as="script"><link rel="prefetch" href="/acw-containerization/assets/js/10.6a609194.js"><link rel="prefetch" href="/acw-containerization/assets/js/11.066ff142.js"><link rel="prefetch" href="/acw-containerization/assets/js/12.dc0478b7.js"><link rel="prefetch" href="/acw-containerization/assets/js/3.8d8e2f29.js"><link rel="prefetch" href="/acw-containerization/assets/js/4.7d932259.js"><link rel="prefetch" href="/acw-containerization/assets/js/5.6f0e6c56.js"><link rel="prefetch" href="/acw-containerization/assets/js/7.0f20c62b.js"><link rel="prefetch" href="/acw-containerization/assets/js/8.c2aa1fab.js"><link rel="prefetch" href="/acw-containerization/assets/js/9.dddba1b0.js">
    <link rel="stylesheet" href="/acw-containerization/assets/css/0.styles.ae323523.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/acw-containerization/" class="home-link router-link-active"><!----> <span class="site-name">Docker &amp; AKS workshop</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/acw-containerization/" class="nav-link">Home</a></div> <a href="https://github.com/vietnam-devs/acw-containerization" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/acw-containerization/" class="nav-link">Home</a></div> <a href="https://github.com/vietnam-devs/acw-containerization" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/acw-containerization/" class="sidebar-link">Azure cloud workshop introduction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/acw-containerization/#agenda" class="sidebar-link">Agenda</a></li><li class="sidebar-sub-header"><a href="/acw-containerization/#source-code" class="sidebar-link">Source Code</a></li><li class="sidebar-sub-header"><a href="/acw-containerization/#target-audience" class="sidebar-link">Target Audience</a></li></ul></li><li><a href="/acw-containerization/module1/" class="active sidebar-link">Set up your Docker environment</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/acw-containerization/module2/" class="sidebar-link">Hello world</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/acw-containerization/module3/" class="sidebar-link">Create and run a Docker application</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/acw-containerization/module4/" class="sidebar-link">Multi containers environment</a><ul class="sidebar-sub-headers"></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="module-1-set-up"><a href="#module-1-set-up" aria-hidden="true" class="header-anchor">#</a> Module 1: Set up</h1> <h3 id="concepts"><a href="#concepts" aria-hidden="true" class="header-anchor">#</a> Concepts</h3> <p>Docker is a platform for deveopers and sysadmins to develop, deploy and run applications with containers.
<img src="/acw-containerization/docker-containers.png" alt=""></p> <h3 id="images-and-containers"><a href="#images-and-containers" aria-hidden="true" class="header-anchor">#</a> Images and containers</h3> <p>A container is lauched by running an image. An image is an executable package that includes everything needed to run an application--the code, a runtime, libraries, environment variables, and configuration files.</p> <p>A container is a runtime instance of an image</p> <h3 id="containers-and-virtual-machines"><a href="#containers-and-virtual-machines" aria-hidden="true" class="header-anchor">#</a> Containers and virtual machines</h3> <p>A container runs natively on Linux and shares the kernel of the host machine with other containers</p> <p>A virtual machine runs an OS with virtual access to host resources through a hypervisor.</p> <table><thead><tr><th><img src="/acw-containerization/Container@2x.png" alt=""></th> <th><img src="/acw-containerization/VM@2x.png" alt=""></th></tr></thead> <tbody></tbody></table> <h3 id="prepare-environment"><a href="#prepare-environment" aria-hidden="true" class="header-anchor">#</a> Prepare environment</h3> <h3 id="connect-to-ubuntu-vm"><a href="#connect-to-ubuntu-vm" aria-hidden="true" class="header-anchor">#</a> Connect to Ubuntu VM</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">ssh</span> workshop@workshop-vm-<span class="token punctuation">[</span>x<span class="token punctuation">]</span>.eastasia.cloudapp.azure.com -i ./ssh-key/id_rsa
</code></pre></div><h3 id="get-docker-engine-ubuntu"><a href="#get-docker-engine-ubuntu" aria-hidden="true" class="header-anchor">#</a> Get Docker engine - Ubuntu</h3> <ol><li>Update the apt package index</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> update
</code></pre></div><ol start="2"><li>Install packages to allow apt to use a repository over HTTPS</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token punctuation">\</span>
    apt-transport-https <span class="token punctuation">\</span>
    ca-certificates <span class="token punctuation">\</span>
    <span class="token function">curl</span> <span class="token punctuation">\</span>
    gnupg-agent <span class="token punctuation">\</span>
    software-properties-common
</code></pre></div><ol start="3"><li>Add Docker’s official GPG key</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> -fsSL https://download.docker.com/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
</code></pre></div><ol start="4"><li>Setup the stable repository</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> add-apt-repository <span class="token punctuation">\</span>
   <span class="token string">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> \
   stable&quot;</span>
</code></pre></div><ol start="5"><li>Install the latest version of Docker Engine</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt-get</span> update

$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
</code></pre></div><h3 id="test-docker"><a href="#test-docker" aria-hidden="true" class="header-anchor">#</a> Test Docker</h3> <ol><li>Run docker --version</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ docker --version

Docker version <span class="token number">19.03</span>.1, build 74b1e89
</code></pre></div><ol start="2"><li>Run docker info</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> docker info

Client:
 Debug Mode: <span class="token boolean">false</span>

Server:
 Containers: <span class="token number">0</span>
  Running: <span class="token number">0</span>
  Paused: <span class="token number">0</span>
  Stopped: <span class="token number">0</span>
 Images: <span class="token number">0</span>
 Server Version: <span class="token number">19.03</span>.1
 Storage Driver: overlay2
  Backing Filesystem: extfs
  Supports d_type: <span class="token boolean">true</span>
  Native Overlay Diff: <span class="token boolean">false</span>
 Logging Driver: json-file
 Cgroup Driver: cgroupfs
 <span class="token punctuation">..</span>.
</code></pre></div><h3 id="test-docker-installation"><a href="#test-docker-installation" aria-hidden="true" class="header-anchor">#</a> Test Docker installation</h3> <ol><li>Test installation works by running the following</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> docker run hello-world

Unable to <span class="token function">find</span> image <span class="token string">'hello-world:latest'</span> locally
latest: Pulling from library/hello-world
1b930d010525: Pull complete
Digest: sha256:451ce787d12369c5df2a32c85e5a03d52cbcef6eb3586dd03075f3034f10adcd
Status: Downloaded newer image <span class="token keyword">for</span> hello-world:latest

Hello from Docker<span class="token operator">!</span>
This message shows that your installation appears to be working correctly.
<span class="token punctuation">..</span>.
</code></pre></div><ol start="2"><li>List docker image that was downloaded</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> docker image <span class="token function">ls</span>

REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
hello-world         latest              fce289e99eb9        <span class="token number">8</span> months ago        <span class="token number">1</span>.84kB
</code></pre></div><ol start="3"><li>List all containers</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> docker <span class="token function">ps</span> -a

CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                     PORTS               NAMES
8ee2c33c10ab        hello-world         <span class="token string">&quot;/hello&quot;</span>            <span class="token number">2</span> minutes ago       Exited <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token number">2</span> minutes ago                       keen_wilson
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/acw-containerization/" class="prev router-link-active">
          Azure cloud workshop introduction
        </a></span> <span class="next"><a href="/acw-containerization/module2/">
          Hello world
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/acw-containerization/assets/js/app.9f94a02c.js" defer></script><script src="/acw-containerization/assets/js/2.dec8aa0e.js" defer></script><script src="/acw-containerization/assets/js/6.6d72fd7c.js" defer></script>
  </body>
</html>
